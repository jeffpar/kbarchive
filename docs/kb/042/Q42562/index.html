<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=231b77c990cb1dad78d33119176ff1f53331eb63">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.4.0 -->
<title>Q42562: PRB: C4057 or C4133 Occur Unexpectedly | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.7.3" />
<meta property="og:title" content="Q42562: PRB: C4057 or C4133 Occur Unexpectedly" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/042/Q42562/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/042/Q42562/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","url":"http://jeffpar.github.io/kbarchive/kb/042/Q42562/","headline":"Q42562: PRB: C4057 or C4133 Occur Unexpectedly","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="http://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q42562-prb-c4057-or-c4133-occur-unexpectedly">Q42562: PRB: C4057 or C4133 Occur Unexpectedly</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q42562
Product(s): Microsoft C Compiler
Version(s): 1.0,1.5,2.0,4.0,5.0,6.0
Operating System(s): 
Keyword(s): kbVC100 kbVC150 kbVC200 kbVC400 kbVC500 kbVC600
Last Modified: 29-NOV-2001

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft C/C++ for MS-DOS 
- Microsoft Visual C++ for Windows, 16-bit edition, versions 1.0, 1.5 
- Microsoft Visual C++, 32-bit Editions, versions 1.0, 2.0, 4.0, 5.0, 6.0 
-------------------------------------------------------------------------------

SYMPTOMS
========

Using the Microsoft C/C++ compiler (CL.EXE) versions 7.0, 8.0, and 8.0c for
MS-DOS, the following warning is generated:

  C4057: 'argument': indirection to slightly different base types

Using the Microsoft C/C++ compiler (CL.EXE) versions 8.0 and 9.0 (32-bit
edition), the following warning is generated:

  C4133: 'argument' : incompatible types-from 'short *' to 'int *'

Using the Microsoft C/C++ compiler (CL.EXE) version 10.0 and higher (32-bit
edition), the following warning is generated:

  C4133: 'function' : incompatible types-from 'short *' to 'int *'

CAUSE
=====

These warnings are expected behavior. According to ANSI standards, variables of
type int* are different from variables of type short*. And, although the
compiler may be able to perform an implicit promotion/demotion among intergral
types (char, short, int, long, etc.), pointers are not of integral type.

RESOLUTION
==========

To remove these warnings, use an appropriate cast to instruct the compiler to
explicitly convert the value from its current data type to the desired.

MORE INFORMATION
================

The only restriction on the size of the short given by the ANSI standard is that
it NOT be longer than an integer. Code should be written with this in mind so
that it will be portable. In many implementations, such as WINDOWS NT, integers
are not the same as shorts.

Compiling the following program will generate the discussed warning:

Sample Code
-----------

  /* Compile options needed: /c /W4
  */ 

  void ShortFunc( short, short * );
  void Func( int, int * );

  void main( )
  {
      short sTest;
      short *sPoint;

      ShortFunc( sTest, sPoint );
      Func( sTest, sPoint );  /*  Generates warning  */ 
      Func( sTest, (int *)sPoint );  /*  Does not generate warning  */ 
  }

Additional query words: 8.00 8.00c 9.00

======================================================================
Keywords          : kbVC100 kbVC150 kbVC200 kbVC400 kbVC500 kbVC600 
Technology        : kbVCsearch kbVC400 kbAudDeveloper kbZNotKeyword8 kbvc150 kbvc100 kbZNotKeyword3 kbVC500 kbVC600 kbVC200 kbVC32bitSearch kbVC16bitSearch kbVC500Search
Version           : :1.0,1.5,2.0,4.0,5.0,6.0
Issue type        : kbprb

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


</body>
</html>