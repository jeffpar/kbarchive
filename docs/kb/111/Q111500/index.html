<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=231b77c990cb1dad78d33119176ff1f53331eb63">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.4.0 -->
<title>Q111500: BUG: Trailing Commas May Cause Incorrect Error Messages | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.7.3" />
<meta property="og:title" content="Q111500: BUG: Trailing Commas May Cause Incorrect Error Messages" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/111/Q111500/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/111/Q111500/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","url":"http://jeffpar.github.io/kbarchive/kb/111/Q111500/","headline":"Q111500: BUG: Trailing Commas May Cause Incorrect Error Messages","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="http://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q111500-bug-trailing-commas-may-cause-incorrect-error-messages">Q111500: BUG: Trailing Commas May Cause Incorrect Error Messages</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q111500
Product(s): Microsoft Macro Assembler
Version(s): 6.1,6.11,6.1a
Operating System(s): 
Keyword(s): 
Last Modified: 06-MAY-2001

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft Macro Assembler (MASM), versions 6.1, 6.1a, 6.11 
-------------------------------------------------------------------------------

SYMPTOMS
========

If extra trailing commas are placed at the end of a data declaration statement,
the Microsoft Macro Assembler (MASM) may generate incorrect error messages,
which can include:

  error A2207: missing right parenthesis in expression
  error A2081: missing operand after unary operator
  error A2206: missing operator in expression
  error A2050: real or BCD number not allowed

The message given may depend upon the surrounding code. In some cases the
incorrect message is only given when a listing file is generated (the /Fl switch
is used). In other cases the error messages may flag the wrong line.

RESOLUTION
==========

If an error message seems incorrect, check the indicated line and the
surrounding lines for extra or improperly placed commas.

STATUS
======

Microsoft has confirmed this to be a problem in MASM versions 6.1x. We are
researching this problem and will post new information here in the Microsoft
Knowledge Base as it becomes available.

MORE INFORMATION
================

The expected error message for extra commas at the end of a data declaration
statement is:

  error A2009: syntax error in expression

Note that the incorrect errors only occur when more than one trailing comma is
used.

If there is a single trailing comma and the following line is blank or a comment
then no error is reported. The trailing comma indicates that the data on the
following line should be concatenated to the previous data. A blank or comment
line is ignored by MASM and so nothing is done. However, if a single comma
occurs and the next line is not blank or a comment and does not contain correct
data for the type being allocated, the correct error will be generated. For
example

     db "Hello",
     nop

correctly generates:

  error A2008: syntax error : nop

The following sample illustrates several possible incorrect error messages when
assembled with MASM 6.1x. The error messages and their locations are not shown
in the sample code as comments because adding the comments will change the
behavior of MASM.

Sample Code
-----------

  ;Assembly options needed: /c /Fl

  .model small

  .data
     db "1",,

     db "1",
        "2",,

     db "1",,
        "2",

     db "1",
        "2",,
        "!"

  end

Additional query words: 6.10 6.10a buglist6.10 buglist6.11 buglist6.20

======================================================================
Keywords          :  
Technology        : kbMASMsearch kbAudDeveloper kbMASM610 kbMASM611 kbMASM610a
Version           : :6.1,6.11,6.1a

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


</body>
</html>