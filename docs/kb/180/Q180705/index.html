<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=4c5dc89ca309d19d6d9171a268a55a16d7399494">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.3.0 -->
<title>Q180705: APPC DISPLAY Call May Return AP_COMM_SUBSYSTEM_ABENDED. | KnowledgeBase Archive</title>
<meta property="og:title" content="Q180705: APPC DISPLAY Call May Return AP_COMM_SUBSYSTEM_ABENDED." />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/180/Q180705/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/180/Q180705/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"name":null,"description":"An Archive of Early Microsoft KnowledgeBase Articles","author":null,"@type":"WebPage","url":"http://jeffpar.github.io/kbarchive/kb/180/Q180705/","publisher":null,"image":null,"headline":"Q180705: APPC DISPLAY Call May Return AP_COMM_SUBSYSTEM_ABENDED.","dateModified":null,"datePublished":null,"sameAs":null,"mainEntityOfPage":null,"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="http://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q180705-appc-display-call-may-return-ap_comm_subsystem_abended">Q180705: APPC DISPLAY Call May Return AP_COMM_SUBSYSTEM_ABENDED.</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q180705
Product(s): Microsoft SNA Server
Version(s): WINDOWS:3.0,3.0 SP1,3.0 SP2,4.0
Operating System(s): 
Keyword(s): 
Last Modified: 14-MAR-2000

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft SNA Server, versions 3.0, 3.0 SP1, 3.0 SP2, 4.0 
-------------------------------------------------------------------------------

SYMPTOMS
========

If a Win32 APPC application calls the SNA Server DISPLAY function to retrieve a
list of all configured remote APPC LU's (in other words, sets the plu_def_info
option), the following symptoms may occur:

- the DISPLAY call may return with the following error:

  primary_rc = 0xF003 (AP_COMM_SUBSYSTEM_ABENDED)

- The following event may appear in the Windows NT application event log:

  Event ID: 706
  Source: SNA Server
  Description:
  Connection to client &lt;client&gt;has been aborted due to too many (100)
  pending writes.

This problem has been observed when configuring IBM Personal Communications for
the AS/400 (version 4.1) while using the SNA Server Windows NT or Windows 95
client software. This problem occurs when the SNA Server is configured with a
large number of local APPC LU/remote APPC LU/mode partnerships. In the
customer's failure scenario, there were over 2300 local APPC LU's configured,
each partnered with up to 4 remote APPC LU's.

CAUSE
=====

The SNA Server was incorrectly reporting information on all the local APPC LU's
defined, even though the application was only requesting remote APPC LUs (via
the plu_def_info option). When attempting to send this large response to the
client's DISPLAY request, the SNA Server exceeded 100 consecutive pending write
requests to the client, causing the default "MaxPendingWrites" counter to be
exceeded. For more information about Event 706 and MaxPendingWrites, see the
following article in the Microsoft Knowledge Base:

  Q142037 SNA Server Fails to Release Memory in SNA TCP/IP Interface DLL

STATUS
======

Microsoft has confirmed this to be a problem in SNA Server version 3.0, 3.0
Service Pack 1 (SP1), 3.0 SP2 and 4.0.

This problem was corrected in the latest SNA Server versions 3.0 and 4.0 U.S.
Service Packs. For information on obtaining these Service Packs, query on the
following word in the Microsoft Knowledge Base (without the spaces):

  S E R V P A C K


Additional query words:

======================================================================
Keywords          :  
Technology        : kbAudDeveloper kbSNAServSearch kbSNAServ300 kbSNAServ400 kbSNAServ300SP1 kbSNAServ300SP2
Version           : WINDOWS:3.0,3.0 SP1,3.0 SP2,4.0
Issue type        : kbbug
Solution Type     : kbfix

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="http://github.com/jeffpar">jeffpar</a><br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


</body>
</html>