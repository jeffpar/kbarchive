<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=4c5dc89ca309d19d6d9171a268a55a16d7399494">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.3.0 -->
<title>Q74212: Search Algorithm of MS-DOS 5.0 EMM386.EXE | KnowledgeBase Archive</title>
<meta property="og:title" content="Q74212: Search Algorithm of MS-DOS 5.0 EMM386.EXE" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/074/Q74212/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/074/Q74212/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"name":null,"description":"An Archive of Early Microsoft KnowledgeBase Articles","author":null,"@type":"WebPage","url":"http://jeffpar.github.io/kbarchive/kb/074/Q74212/","publisher":null,"image":null,"headline":"Q74212: Search Algorithm of MS-DOS 5.0 EMM386.EXE","dateModified":null,"datePublished":null,"sameAs":null,"mainEntityOfPage":null,"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="http://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q74212-search-algorithm-of-ms-dos-50-emm386exe">Q74212: Search Algorithm of MS-DOS 5.0 EMM386.EXE</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q74212
Product(s): Microsoft Disk Operating System
Version(s): MS-DOS:5.0,5.0a
Operating System(s): 
Keyword(s): 
Last Modified: 23-NOV-1999

-------------------------------------------------------------------------------
The information in this article applies to:

- Microsoft MS-DOS operating system versions 5.0, 5.0a 
-------------------------------------------------------------------------------

SUMMARY
=======

When EMM386.EXE is installed, it searches through the upper memory area (UMA)
(the area between 640K and 1024K) for "holes" (unused space) that it can use to
load TSRs (terminate-and-stay-resident programs) and/or device drivers, and/or
create a page frame to emulate expanded memory.

MORE INFORMATION
================

The search algorithm follows these steps, starting at C000 through DFFF (on most
machines), checking every 2K. C000 - C7FF is searched on EISA and ISA machines
only. The E000 range will be checked on Compaq machines only.

1. To check for RAM, EMM386.EXE will first write to the address and then read
  the same address. If it reads what was written, the space is RAM, and is
  excluded.

2. To check for ROM, EMM386.EXE looks at the first two bytes of the address. If
  the bytes are "55AA", then the space is occupied by ROM. The next two bytes
  (after 55AA) indicate the size of the ROM, and this space is excluded.
  Because some video ROMs incorrectly report their size, the search algorithm
  starts at C000 instead of A000. B000-B7FF is free on most VGA monitors. If
  so, it can be included with the I= switch.

Note: The I= switch on EMM386.EXE has a higher order of precedence than the
search algorithm, and it is possible to force the inclusion of address spaces
that are being used by other hardware, which will cause the machine to hang or
behave in an erratic fashion.

Additional query words: 5.00 5.00a aemm386 served address space

======================================================================
Keywords          :  
Technology        : kbMSDOSSearch kbMSDOS500 kbMSDOS500a
Version           : MS-DOS:5.0,5.0a

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="http://github.com/jeffpar">jeffpar</a><br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


</body>
</html>