<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=231b77c990cb1dad78d33119176ff1f53331eb63">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.4.0 -->
<title>Q99487: Argument Orders for CDECL and PASCAL Functions in MASM | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.7.3" />
<meta property="og:title" content="Q99487: Argument Orders for CDECL and PASCAL Functions in MASM" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/099/Q99487/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/099/Q99487/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","url":"http://jeffpar.github.io/kbarchive/kb/099/Q99487/","headline":"Q99487: Argument Orders for CDECL and PASCAL Functions in MASM","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="http://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q99487-argument-orders-for-cdecl-and-pascal-functions-in-masm">Q99487: Argument Orders for CDECL and PASCAL Functions in MASM</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q99487
Product(s): Microsoft LAN Manager
Version(s): 
Operating System(s): 
Keyword(s): 
Last Modified: 19-FEB-2002

SUMMARY
=======

Making Macro Assembler (MASM) calls to C functions is straightforward if you
keep in mind the order of the arguments. How the arguments are pushed for the
two most commonly used types of functions, CDECL and PASCAL, is described
below.

The LAN Manager APIs all use FAR PASCAL calling conventions.

ARGUMENTS FOR CDECL
-------------------

  int x,y;               /* C Lang call */ 
  int min(x,y);

  push   y             /* MASM call */ 
  push   x             /* Note: arguments are pushed from right

                       /* to left */ 

  call   _min          /* On return from the function, you must

                       /* reset your */ 

  add    sp,4          /* stack. That is: add sp,(total size of

                       /* arguments passed) */ 

ARGUMENTS FOR PASCAL
--------------------

(Use for all LAN Manager APIs)

  int x,y;
  int PASCAL max(x,y);   /* C Lang call */ 

  push  x                /* MASM call */ 
  push  y                /* Note: arguments are pushed from left

                         /* to right */ 

  call  _max             /* On return from PASCAL function, no

                         /* additional work is required. The
                         /* function itself does a RET X, where x
                         /* is the size of the arguments passed.*/ 

You also must use the H2INC utility to convert any header files that contain data
definitions. The H2INC documentation ("Programmer's Guide," Chapter 14)
discusses ways to convert function definitions so that MASM can understand them.
You can also convert a C file to MASM in order to check its syntax with the
following command:

  cl -c -Fa -Fs file.c

REFERENCES
==========

"Microsoft LAN Manager Programmer's Guide," version 2, Chapter 14, Debugging
Distributed Applications

Additional query words: 2.00 2.0 2.10 2.1 2.10a 2.1a 2.20 2.2

======================================================================
Keywords          :  

=============================================================================
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


</body>
</html>