<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/kbarchive/assets/css/style.css?v=231b77c990cb1dad78d33119176ff1f53331eb63">
    <link rel="stylesheet" type="text/css" href="/kbarchive/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Begin Jekyll SEO tag v2.4.0 -->
<title>Q39216: Opening Files Using Command Line Arguments. | KnowledgeBase Archive</title>
<meta name="generator" content="Jekyll v3.7.3" />
<meta property="og:title" content="Q39216: Opening Files Using Command Line Arguments." />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<meta property="og:description" content="An Archive of Early Microsoft KnowledgeBase Articles" />
<link rel="canonical" href="http://jeffpar.github.io/kbarchive/kb/039/Q39216/" />
<meta property="og:url" content="http://jeffpar.github.io/kbarchive/kb/039/Q39216/" />
<meta property="og:site_name" content="KnowledgeBase Archive" />
<script type="application/ld+json">
{"description":"An Archive of Early Microsoft KnowledgeBase Articles","@type":"WebPage","url":"http://jeffpar.github.io/kbarchive/kb/039/Q39216/","headline":"Q39216: Opening Files Using Command Line Arguments.","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body>
<div id="container">
    <div class="inner">

        <header>
            <h1><a href="/kbarchive">KnowledgeBase Archive</a></h1>
            <h2>An Archive of Early Microsoft KnowledgeBase Articles</h2>
        </header>
        <section id="downloads" class="clearfix">
            
            
            <a href="http://github.com/jeffpar/kbarchive" id="view-on-github" class="button"><span>View on GitHub</span></a>
            
        </section>
        <hr>
        <section id="main_content">
                <div>
        <h2 id="q39216-opening-files-using-command-line-arguments">Q39216: Opening Files Using Command Line Arguments.</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Article: Q39216
Product(s): See article
Version(s): 5.10   | 5.10
Operating System(s): MS-DOS | OS/2
Keyword(s): ENDUSER | s_quickc | mspl13_c
Last Modified: 29-DEC-1988

File names may be specified as command line arguments to a C
program.  The example below uses the first command line argument as
the name of the input file and the second as the name of the output
file.  The parameter argv, which is declared by main(), is used to
access the command line arguments.

In the example below, the following occurs:

1. argv[0] will contain a full path to the source (exe) file

2. argv[1] will contain the first argument, which is the input file
name

3. argv[2] will contain the second argument, which is the output file
name

The following program opens a file for reading and writing and
also prints argv[0], argv[1], and argv[2].  Note that argc is checked
to make sure that two argument strings were actually passed and that
the file pointers are checked to make sure that the files were
actually opened.

#include &lt;stdio.h&gt;

main (argc,argv)
int argc;
char *argv[];
{
  FILE *in, *out;

  if (argc &lt; 3)  {         /* enough arguments? */
    puts("Usage:  demo infile outfile");
    exit(1);
  }

  printf("%s\n", argv[0]);
  printf("%s\n", argv[1]);
  printf("%s\n", argv[2]);

  in  = fopen (argv[1],"r");
  out = fopen (argv[2],"w");

  if (in == NULL || out == NULL)  {
    puts("Could not open both files");
    exit(2);
  }
  puts("Opened both files OK");
  exit(0);
}

The command line: "C:\&gt;demo infile outfile" produces the
following output if infile and outfile can be opened:

   C:\demo.exe
   infile
   outfile
   Opened both files OK
</code></pre></div></div>


        <p>
            THE INFORMATION PROVIDED IN THE MICROSOFT KNOWLEDGE BASE IS
            PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND.  MICROSOFT DISCLAIMS
            ALL WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING THE WARRANTIES
            OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  IN NO
            EVENT SHALL MICROSOFT CORPORATION OR ITS SUPPLIERS BE LIABLE FOR
            ANY DAMAGES WHATSOEVER INCLUDING DIRECT, INDIRECT, INCIDENTAL,
            CONSEQUENTIAL, LOSS OF BUSINESS PROFITS OR SPECIAL DAMAGES, EVEN IF
            MICROSOFT CORPORATION OR ITS SUPPLIERS HAVE BEEN ADVISED OF THE
            POSSIBILITY OF SUCH DAMAGES.  SOME STATES DO NOT ALLOW THE EXCLUSION
            OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES
            SO THE FOREGOING LIMITATION MAY NOT APPLY.
        </p>
        <p>Copyright Microsoft Corporation 1986-2002.</p>
    </div>

        </section>

        <footer>
            
            KnowledgeBase Archive is maintained by <a href="https://www.pcjs.org">PCjs</a>.<br>
            
            This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

    </div>
</div>


</body>
</html>